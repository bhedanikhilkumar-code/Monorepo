import { useEffect, useState } from 'react';import { api } from '../../api/client';
export default function UsersPage(){const [users,setUsers]=useState<any[]>([]);const load=()=>api.get('/admin/users').then(r=>setUsers(r.data));useEffect(load,[]);return <div className='p-4 bg-white m-4 rounded shadow'><h2 className='font-bold'>Users</h2>{users.map(u=><div key={u.id} className='flex gap-2 py-1'><span>{u.email} ({u.role})</span><button onClick={()=>api.patch(`/admin/users/${u.id}/ban`,{banned:!u.banned}).then(load)}>ban/unban</button><button onClick={()=>api.patch(`/admin/users/${u.id}/role`,{role:u.role==='ADMIN'?'USER':'ADMIN'}).then(load)}>toggle role</button></div>)}</div>;}
